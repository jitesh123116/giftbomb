<div class="breadcrumbs">
  <h1 class="page_title">Countries</h1>
  <div class="add_new">
    <a data-toggle="modal" data-target="#add_country"><i class="fa fa-plus"></i> Add Country</a>
  </div>
</div>
<div class="content_body">
<div id="list-table" class=" store_list location country">
  <table  class="list-table display dataTable">
    <thead >
      <tr >
        <th>S. No.</th>
        <th>Country ID</th>
        <th>Country</th>
        <th>Country ISD Code</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody >
      <tr dir-paginate="c in countryList  | itemsPerPage: params.limit" total-items="count" current-page="current" pagination-id="countryListID">
        <td>{{$index + 1 +((params.page-1)*params.limit)}}</td>
        <td>{{}}</td>
        <td>{{c.name}}</td>
        <td>{{c.code}}</td>
        <td><a class="action_icon" ng-click="deleteCountry(c._id);">
            <i class="fa fa-trash"></i>
          </a></td>
      </tr>              
    </tbody>
  </table>
  <div  class="bottom">
    <div  class="tblsubmit"></div>
    <div  class="pagination-wrapper">
      <div  class="dataTables_length">
        <label >Show upto 
          <select  class="" ng-model="params.limit">             
            <option  value="10" ng-reflect-value="10">10</option>
            <option  value="25" ng-reflect-value="25">25</option>
            <option  value="50" ng-reflect-value="50">50</option>
            <option  value="100" ng-reflect-value="100">100</option>
          </select>
        </label>
      </div>
      
      <dir-pagination-controls pagination-id="countryListID" class="tables_paginate"
      boundary-links="true" 
      on-page-change="pageChangeHandler(newPageNumber)"
      direction-links="true" >
      </dir-pagination-controls>
      
    </div>
  </div>
</div>

<div class="breadcrumbs breadcrumbs_1">
  <h1 class="page_title">Cities</h1>
<div class="add_new">
    <a data-toggle="modal" data-target="#add_city"><i class="fa fa-plus"></i> Add Cities</a>
  </div>
</div>

<div id="list-table" class="store_list location city">
  <div class="tablt_title_cont">
    <div class="city_list">
      <label>Select Country</label>
      <select class="form-control" ng-model="countryName" ng-options="ct.name as ct.name for ct in countryDropDownList" ng-change="fetchCitiesOnCountryBasis()">
        <option value="">Select Country</option>
      </select>
    </div>
  </div>
  <table  class="list-table display dataTable">
    <thead >
      <tr>
        <th>S. NO.</th>
        <th>City ID</th>
        <th>CITY</th>
        <th>COUNTRY</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody >
      
      <tr dir-paginate="city in cityList  | itemsPerPage: paramsCity.limit" total-items="totalCities" current-page="currentCity" pagination-id="cityListID">
        <td>{{$index+1 + ((params.page-1)*params.limit)}}</td>
        <th>{{id of city}}</th>
        <td>{{city}}</td>
        <td>{{name}}</td>
        <td><a class="action_icon" ng-click="deleteCity(city);">
            <i class="fa fa-trash"></i>
          </a></td>
      </tr>             
    </tbody>
  </table>
  <div  class="bottom">
      <div  class="tblsubmit"></div>
      <div  class="pagination-wrapper">
        <div  class="dataTables_length">
          <label >Show upto<select  class="" ng-model="paramsCity.limit">              
              <option  value="10" ng-reflect-value="10">10</option>
              <option  value="25" ng-reflect-value="25">25</option>
              <option  value="50" ng-reflect-value="50">50</option>
              <option  value="100" ng-reflect-value="100">100</option>
            </select> 
          </label>
        </div>
        
         <dir-pagination-controls pagination-id="cityListID" class="tables_paginate"
          boundary-links="true" 
          on-page-change="pageChangeHandlerForCity(newPageNumber)"
          direction-links="true" >
          </dir-pagination-controls>
        
      </div>
    </div>
</div>

<div class="footer" ng-include="'views/common/footer.html'"></div>

<!-- Modal -->
<div class="modal fade" id="add_city" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Add City</h4>
      </div>
      <form name="city_form" ng-submit="addCity('add_city')">
      <div class="modal-body">
          <h4 class="sub_ttl">Add City</h4>
          <div class="col-xs-12 form-group">
            <label class="col-xs-3">Country :</label>
            <div class="col-xs-9">
              <select class="form-control" ng-model="city.countryName" ng-required = "true">
                <option value="">Select Country</option>
                <option ng-repeat="country in countryList" value="{{country.name}}">{{country.name}}</option>
              </select>
            </div>
          </div>
          
          <div class="col-xs-12 form-group">
            <label class="col-xs-3">City Name :</label>
            <div class="col-xs-9">
              <input type="text" ng-model="city.cityName" class="form-control" ng-required = "true">
            </div>
          </div>                   
<!--          <div class="col-xs-12 form-group">
            <label class="col-xs-3"></label>
            <div class="col-xs-9">
              <button type="submit" class="btn btn-default btn_ok">Save</button> 
              <button type="button" class="btn btn-default btn_cancel" data-dismiss="modal">Cancel</button></div>
          </div>        -->
      </div>
      
        <div class="modal-footer">
          <button type="submit" class="btn btn_ok">Save</button>
          <button type="button" class="btn btn_cancel" data-dismiss="modal">Cancel</button>
        </div>
        
      </form>
    </div>
  </div>
</div>

<div class="modal fade" id="add_country" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Add Country</h4>
      </div>
      <form name="countryForm" ng-submit="addCountry('add_country')">
      <div class="modal-body">
        <h4 class="sub_ttl">Add Country</h4>
        
          <div class="col-xs-12 form-group">
            <label class="col-xs-3">Country Name :</label>
            <div class="col-xs-9">
              <input type="text" ng-model="country.name" class="form-control" required="">
            </div>
          </div>
        <div class="col-xs-12 form-group" >
          <label class="col-xs-3">Country Code :</label>
          <div class="col-xs-9">
            <input type="text" ng-model="country.code" class="form-control" required="">
          </div>
        </div>
<!--          <div class="col-xs-12 form-group">
            <label class="col-xs-3"></label>
            <div class="col-xs-9">
              <button type="submit" class="btn btn-default btn_ok">Save</button> 
              <button type="button" class="btn btn-default btn_cancel" data-dismiss="modal">Cancel</button>
            </div>
          </div>-->
        
      </div>
      <div class="modal-footer">
          <button type="submit" class="btn btn_ok">Save</button>
          <button type="button" class="btn btn_cancel" data-dismiss="modal">Cancel</button>
        </div>
      </form>
    </div>
  </div>
</div>
</div>
<script type="text/javascript">
  $("#add_country").on("hidden.bs.modal",function(){
        countryForm.reset();
  });
  $("#add_city").on("hidden.bs.modal",function(){
        city_form.reset();
  });
 </script> 
